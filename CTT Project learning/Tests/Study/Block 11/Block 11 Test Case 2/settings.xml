<?xml version="1.0" encoding="UTF-8"?>

<Test xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" description="Обработка REST-заглушкой без SSL-аутентификации POST-запроса с XML-сообщением о существующем клиенте." name="Block 11 Test Case 2" xsi:noNamespaceSchemaLocation="http://ctt.cinimex.ru/testSettings.xsd">

<GetTemplate variable="varName1" path="/Templates/block11msg.xml"/>
<ChangeTemplate name="varName1">
	<ReplaceValue value="20" mnemonic="Req_ClientId"/>
</ChangeTemplate>

<RunStub stubName="Block11stub"  writeMessages="true"/>

<RESTSendPost objName="Block11" paramCharset="Windows-1251" request="varName1" response="varName2" responseCode="varName3"> 
    <parameters> 
        <param name="ClientId" value="20"/>                
    </parameters> 
    <requestHeaders> 
        <header name="Content-Type" value="text/xml; charset=Windows-1251"/>      
    </requestHeaders> 
    <responseHeaders> 
        <header name="Content-Type" variable="value"/> 
    </responseHeaders> 
</RESTSendPost> 


<!--<GetStubRequest stubName="Block11stub" stopAfterWork="true"> -->
<!--		<request timeout="20">-->
<!--			<body  variable="response"/>-->
<!--			<header name="Content-Type" variable="value"/>			-->
<!--		</request>-->
<!--	</GetStubRequest>-->
	
<StopStub stubName="Block11stub"/>

<!--<GetTemplate variable="expectedxml" path="/Templates/block11msgCase2.xml"/>-->
<!--<AssertXmlEqual>-->
<!--	<actual variable="response"/>-->
<!--	<expected variable="expectedxml"/>-->
<!-- </AssertXmlEqual> -->

</Test>
